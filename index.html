<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Emergency Info</title>
<style>
body{
font-family:Arial;
background:#0f0f16;
color:#eee;
padding:15px;
}
.header{
background:#b71c1c;
padding:15px;
border-radius:10px;
text-align:center;
}
.header h1{margin:0;color:white;}
.section{
background:#1a1a2a;
border-left:6px solid #6cf;
border-radius:8px;
padding:12px;
margin-top:12px;
}
.section h2{
margin-top:0;
color:#6cf;
font-size:18px;
}
pre{white-space:pre-wrap;font-size:15px;}
button,input,textarea{
width:100%;
padding:10px;
margin-top:6px;
border-radius:6px;
border:none;
font-size:15px;
}
textarea,input{background:#0b0b15;color:white;}
button{
background:#6cf;
color:black;
font-weight:bold;
}
.hidden{display:none;}
</style>
</head>

<body>

<div class="header">
<h1>üÜò EMERGENCY INFORMATION</h1>
<p>Scan QR to view offline</p>
</div>

<div class="section">
<h2>üë§ Personal Info</h2>
<pre id="display">
Name:
Age:
Address:
</pre>
</div>

<div class="section">
<h2>ü©∏ Medical</h2>
<pre id="display2">
Blood Type:
</pre>
</div>

<div class="section">
<h2>üìû Emergency Contact</h2>
<pre id="display3">
Parent/Guardian:
Emergency Number:
</pre>
</div>

<div class="section">
<h2>‚úè Edit Info</h2>
<input type="password" id="editPass" placeholder="Password to edit">
<button onclick="unlock()">Unlock</button>

<div id="editBox" class="hidden">
<textarea id="info" rows="10">
Name:
Age:
Address:
Blood Type:
Parent/Guardian:
Emergency Number:
</textarea>

<button onclick="save()">Save</button>

<h3>Change Password</h3>
<input type="password" id="newPass" placeholder="New password">
<button onclick="changePass()">Change Password</button>
</div>
</div>

<script>
let defaultPass="1234";
let savedPass=localStorage.getItem("pass")||defaultPass;
let savedInfo=localStorage.getItem("info");

function render(text){
let lines=text.split("\n");
document.getElementById("display").textContent=lines.slice(0,3).join("\n");
document.getElementById("display2").textContent=lines.slice(3,4).join("\n");
document.getElementById("display3").textContent=lines.slice(4).join("\n");
}

if(savedInfo){
document.getElementById("info").value=savedInfo;
render(savedInfo);
}

function unlock(){
if(document.getElementById("editPass").value===savedPass){
document.getElementById("editBox").classList.remove("hidden");
alert("Edit unlocked");
}else{alert("Wrong password");}
}

function save(){
let t=document.getElementById("info").value;
localStorage.setItem("info",t);
render(t);
alert("Saved");
}

function changePass(){
let np=document.getElementById("newPass").value;
if(np.length<1){alert("Invalid");return;}
localStorage.setItem("pass",np);
savedPass=np;
alert("Password changed");
}
</script>

</body>
</html>
